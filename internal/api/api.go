package api

import (
	"fmt"
	"net/http"

	env "github.com/csye7125-su24-team06/webapp-cve-consumer/internal"
	"github.com/csye7125-su24-team06/webapp-cve-consumer/internal/handler"
)

var Server *http.Server

func StartServer() {
	port := env.GetEnvOrDefault("PORT", "3001")

	Server = &http.Server{
		Addr: ":" + port,
	}

	http.HandleFunc("/readiness", handler.HealthCheck)
	fmt.Println("Starting Server...")
	Server.ListenAndServe()
}
